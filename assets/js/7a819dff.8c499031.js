"use strict";(self.webpackChunkkubewarden_docusaurus=self.webpackChunkkubewarden_docusaurus||[]).push([[5330],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return d}});var i=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=i.createContext({}),p=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return i.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=p(n),d=r,f=m["".concat(l,".").concat(d)]||m[d]||u[d]||a;return n?i.createElement(f,o(o({ref:t},c),{},{components:n})):i.createElement(f,o({ref:t},c))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,o=new Array(a);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var p=2;p<a;p++)o[p]=n[p];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9623:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return l},default:function(){return d},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return u}});var i=n(3117),r=n(102),a=(n(7294),n(3905)),o=["components"],s={sidebar_label:"Swift",title:""},l="Swift",p={unversionedId:"writing-policies/swift",id:"writing-policies/swift",title:"",description:"As stated on the official website:",source:"@site/docs/writing-policies/swift.md",sourceDirName:"writing-policies",slug:"/writing-policies/swift",permalink:"/writing-policies/swift",draft:!1,editUrl:"https://github.com/kubewarden/docs/edit/main/docs/writing-policies/swift.md",tags:[],version:"current",lastUpdatedAt:1655308219,formattedLastUpdatedAt:"6/15/2022",frontMatter:{sidebar_label:"Swift",title:""},sidebar:"docs",previous:{title:"Distribute",permalink:"/writing-policies/rego/gatekeeper/distribute"},next:{title:"TypeScript",permalink:"/writing-policies/typescript"}},c={},u=[{value:"Current State",id:"current-state",level:2},{value:"More examples",id:"more-examples",level:2}],m={toc:u};function d(e){var t=e.components,n=(0,r.Z)(e,o);return(0,a.kt)("wrapper",(0,i.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"swift"},"Swift"),(0,a.kt)("p",null,"As stated on the ",(0,a.kt)("a",{parentName:"p",href:"https://swift.org/"},"official website"),":"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Swift is a general-purpose programming language built using a modern approach\nto safety, performance, and software design patterns.")),(0,a.kt)("p",null,"The swift compiler doesn't yet have WebAssembly support, however the\n",(0,a.kt)("a",{parentName:"p",href:"https://swiftwasm.org/"},"Swiftwasm")," provides a patched compiler with this\ncapability."),(0,a.kt)("p",null,"The Swiftwasm team is also working to upstream all these changes into the\nSwift project. In the meantime the toolchain provided by the Swiftwasm project\ncan be used to build Kubewarden policies."),(0,a.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"You don't need an Apple system to write or run Swift code. Everything\ncan be done also on a Linux machine or on Windows (by using Docker for Windows)."))),(0,a.kt)("h2",{id:"current-state"},"Current State"),(0,a.kt)("p",null,"Policy authors can leverage the following resources:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/kubewarden/policy-sdk-swift"},"Kubewarden Swift SDK"),": this\nprovides a set of ",(0,a.kt)("inlineCode",{parentName:"li"},"struct")," and functions that simplify the process of\nwriting policies."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/kubewarden/swift-policy-template"},"Kubewarden Swift template project"),":\nuse this template to quickly scaffold a Swift-based policy. The template comes\nwith a working policy and a set of GitHub Actions to automate its lifecycle.")),(0,a.kt)("p",null,"No severe limitations have been found inside of Swift, only\nsome minor glitches:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"It's critical to perform some post-build optimizations before using the\npolicy ",(0,a.kt)("em",{parentName:"li"},'"in production"'),":",(0,a.kt)("ol",{parentName:"li"},(0,a.kt)("li",{parentName:"ol"},"Strip the Wasm module via ",(0,a.kt)("inlineCode",{parentName:"li"},"wasm-strip")," to reduce its size"),(0,a.kt)("li",{parentName:"ol"},"Optimize the Wasm module via ",(0,a.kt)("inlineCode",{parentName:"li"},"wasm-opt"))))),(0,a.kt)("p",null,"The GitHub Action provided by the template repository already takes care of that."),(0,a.kt)("h2",{id:"more-examples"},"More examples"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/kubewarden/pod-runtime-class-policy"},"This GitHub repository"),"\ncontains a Kubewarden Policy written in Swift."))}d.isMDXComponent=!0}}]);